// -------------------
// COLOURS
//
// Declare the colour
// variables we'll use
// for our player.
// -------------------

$chrome__grey--light: #fafafa;
$chrome__grey--mid: #dadada;
$chrome__grey--dark: #5a5a5a;
$chrome__blue: #4285f4;

// -------------
// PLAYER STYLES
//
// All rules are
// nested within
// a theme class
// name - making
// switching the
// themes easy.
// -------------
.chrome.customAudioPlayer {
    background: $chrome__grey--light;
    color: $chrome__grey--dark;
    margin: 0 0 1em 0;
    padding-right: 0.5em;
    display: flex;
    align-content: stretch;
    font-size: 0.8em;

    // -------------------
    // PLAY / PAUSE BUTTON
    // -------------------
    .playerTrigger {
        border: none;
        appearance: none;
        width: 3em;
        height: 3em;
        font-size: 1em;
        background: none;
        position: relative;
        cursor: pointer;
        .buttonText {
            display: none;
        }
        &:focus {
            outline: none;
        }
        // Play icon
        &:before {
            content: '';
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-30%, -50%);
            border-top: 0.7em solid transparent;
            border-left: 1em solid $chrome__grey--dark;
            border-bottom: 0.7em solid transparent;
        }
        // Right-hand pause-bar
        &:after {
            content: '';
            display: block;
            position: absolute;
            top: 50%;
            right: 50%;
            height: 1.3em;
            transform: translate(0.6em, -50%);
            border-top: 0;
            border-left: 0.4em solid $chrome__grey--dark;
            border-bottom: 0;
            opacity: 0;
        }
        // Left-hand pause-bar (morphs from play icon)
        &.songPlaying:before {
            height: 1.3em;
            transform: translate(-0.6em, -50%);
            border-top: 0;
            border-left: 0.4em solid $chrome__grey--dark;
            border-bottom: 0;
        }
        // Right-hand pause-bar visibility
        &.songPlaying:after {
            opacity: 1;
        }
    }

    .metaWrapper {
        display: none;
    }

    .timingsWrapper {
        height: 3em;
        padding-left: 6em;
        position: relative;
        flex-grow: 1;
        .songPlayTimer,
        .songDuration {
            position: absolute;
            display: block;
            top: 0;
            height: 3em;
            width: 3em;
            border: 0;
            padding: 1em 0;
            border-radius: 0;
            box-sizing: border-box;
            font-size: 1em;
            line-height: 1;
        }
        .songPlayTimer {
            left: 0em;
            text-align: right;
            padding-right: 0.2em;
        }
        .songDuration {
            text-align: left;
            left: 3em;
            &:before {
                content: '/ ';
            }
        }
    }

    $progressHeight: 3em;
    .volume-slider__wrapper,
    .progress-slider__wrapper {
        height: 3em;
        line-height: 1;
        position: relative;
        margin: 0 0.5em;
        .volume-slider__range,
        .progress-slider__range {
            font-size: 1em;
            width: 100%;
            padding: 0;
            height: 3em;
            margin: 0;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
        }
        .volume-slider__background,
        .progress-slider__background {
            height: 0.2em;
            position: absolute;
            top: 1.4em;
            left: 0;
            background: $chrome__grey--mid;
            width: 100%;
        }
        .volume-slider__progress-indicator,
        .progress-slider__progress-indicator {
            width: 0%;
            height: 0.2em;
            position: absolute;
            top: 1.4em;
            left: 0;
            background: $chrome__blue;
        }
        .volume-slider__progress-indicator {
            width: 100%;
        }
        .volume-slider__playhead,
        .progress-slider__playhead {
            background: $chrome__blue;
            width: 1em;
            height: 1em;
            border-radius: 0.5em;
            position: absolute;
            top: 1em;
            left: 0%;
            margin-left: -0.5em;
        }
        .volume-slider__playhead {
            left: 100%;
        }
    }

    // Make sure the range Track is the right size and shape
    input[type='range'].volume-slider__range::-webkit-slider-runnable-track,
    input[type='range'].progress-slider__range::-webkit-slider-runnable-track {
        width: 100%;
        height: $progressHeight;
        // height: 3em;
        cursor: pointer;
    }
    input[type='range'].volume-slider__range::-moz-range-track,
    input[type='range'].progress-slider__range::-moz-range-track {
        width: 100%;
        height: $progressHeight;
        cursor: pointer;
    }
    input[type='range'].volume-slider__range::-ms-track,
    input[type='range'].progress-slider__range::-ms-track {
        width: 100%;
        height: $progressHeight;
        cursor: pointer;
    }

    .volume-slider__wrapper {
        min-width: 3em;
    }
    .progress-slider__wrapper {
        // flex-grow: 1;
    }

    // -----------
    // MUTE BUTTON
    // -----------
    .songVolume {
        height: 3em;
        position: relative;
        padding-left: 3em;
    }
    .songMuteButton {
        width: 3em;
        height: 3em;
        font-size: 1em;
        border: 0;
        appearance: none;
        position: absolute;
        top: 0;
        left: 0;
        cursor: pointer;
        background: none;
        color: transparent;
        // Body of speaker icon
        &:before {
            display: block;
            width: 0.5em;
            height: 0.5em;
            position: absolute;
            content: '';
            top: 50%;
            left: 50%;
            transform: translate(-0.7em, -50%);
            background: $chrome__grey--dark;
        }
        // Cone of speaker icon
        &:after {
            display: block;
            width: 0.3em;
            height: 0.2em;
            position: absolute;
            content: '';
            top: 50%;
            left: 50%;
            transform: translate(-100%, -50%);
            border-top: 0.5em solid transparent;
            border-right: 0.5em solid $chrome__grey--dark;
            border-bottom: 0.5em solid transparent;
        }
        &:focus {
            outline: none;
        }
    }
    // Outer sound wave
    .songVolumeLabel {
        pointer-events: none;
        display: block;
        position: absolute;
        top: 50%;
        height: 1em;
        color: transparent;
        width: 0.5em;
        font-size: 1em;
        left: 1.5em;
        border-top: 0.18em solid $chrome__grey--dark;
        border-right: 0.18em solid $chrome__grey--dark;
        border-bottom: 0.18em solid $chrome__grey--dark;
        border-radius: 0 1em 1em 0;
        transform: translate(0.2em, -50%);
    }
    // Inner sound wave
    .songVolumeValue {
        pointer-events: none;
        display: block;
        position: absolute;
        top: 50%;
        height: 0.5em;
        color: transparent;
        width: 0.25em;
        font-size: 1em;
        left: 1.5em;
        background: $chrome__grey--dark;
        border-radius: 0 1em 1em 0;
        transform: translate(0.2em, -50%);
    }
    // Button strikethrough (morphs from inner sound wave)
    .songMuteButton.songMuted + .songVolumeLabelWrapper .songVolumeValue {
        background: $chrome__grey--light;
        border-radius: 0;
        height: 0.1em;
        width: 2em;
        border-bottom: $chrome__grey--dark solid 0.2em;
        transform: translate(-45%, -90%) rotate(45deg);
    }
}
